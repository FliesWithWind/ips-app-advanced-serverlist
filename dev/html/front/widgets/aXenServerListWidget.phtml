<ips:template parameters="$servers" />
<h3 class="ipsType_reset ipsWidget_title">{lang="aXenServerList_widget_title"}</h3>

<ul class="ipsList_reset">
  {{foreach $servers as $row}}
  <li>
    <ul class="ipsList_reset aXenServerList_item">
      <li class="aXenServerList_item:status{{if $row['axenserverlist_status']}} aXenServerList_item:status-online{{endif}}"><span></span></li>
      <li class="aXenServerList_item:img">
        <img src="https://1shot2kill.pl/uploads/monthly_2020_06/csgo.png" data-ipstooltip _title="Counter Strike Global Offensive" alt="Counter Strike Global Offensive">
      </li>
      <li class="aXenServerList_item:name">
        {$row['axenserverlist_name']}
      </li>
      <li class="aXenServerList_item:ip">
        {$row['axenserverlist_ip']}
      </li>
      <li class="aXenServerList_item_players">
        {{$calcPlayers = $row['axenserverlist_max_players'] ? round( ($row['axenserverlist_current_players'] * 100) / $row['axenserverlist_max_players'] ) : 0;}}

        <svg xmlns="http://www.w3.org/2000/svg" class="aXenServerList_item_players_svg" viewBox="0 0 49 40.22">
          <path class="aXenServerList_item_players_svg:none" d="M1048.02,1119.34a22.5,22.5,0,1,1,37.15-.28" transform="translate(-1042 -1082)"></path>
          <path class="aXenServerList_item_players_svg:fill" d="M1048.02,1119.34a22.5,22.5,0,1,1,37.15-.28" transform="translate(-1042 -1082)" style="stroke-dashoffset: calc(98px - {$calcPlayers}px);"></path>
        </svg>

        <span>{$row['axenserverlist_current_players']} / {$row['axenserverlist_max_players']}</span>
      </li>
    </ul>
  </li>
  {{endforeach}}
</ul>